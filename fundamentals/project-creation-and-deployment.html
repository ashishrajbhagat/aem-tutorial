<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>AEM Tutorial - Project Creation & Deployment</title>
        <meta name="description" content="Master Adobe Experience Manager (AEM) with our in-depth tutorials, covering AEM components, workflows, servlets, models, Sling, OSGi services, Touch UI dialogs, CRXDE, and more. Perfect for beginners, advanced developers, and AEM architects looking to enhance their skills. Learn how to build scalable and efficient AEM solutions with best practices.">
        <meta name="keywords" content="AEM, Adobe Experience Manager, AEM Tutorial, AEM Training, AEM Components, AEM Workflows, AEM Servlets, AEM Models, AEM Sling, AEM OSGi, AEM Touch UI, AEM CRXDE, AEM DAM, AEM Metadata, AEM Content Fragments, AEM Experience Fragments, AEM Editable Templates, AEM Dispatcher, AEM Forms, AEM Sites, AEM Assets, AEM Cloud, AEM as a Cloud Service, AEM On-Premise, AEM SEO, AEM Best Practices, Learn AEM, AEM Course, AEM Development, AEM Headless, AEM SPA, AEM React, AEM Angular, AEM HTL, AEM Sightly, AEM Frontend, AEM Backend, AEM Workflow Development, AEM Performance Optimization, AEM Interview Questions">
        <meta name="author" content="Ashish Raj">
		<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="stylesheet" href="/css/styles.css">
    </head>
    <body>
        <div class="sidebar" id="sidebar">
            <div class="logo">
                <h2>AEM Tutorial</h2>
            </div>
            <div class="sidebar-search">
                <input type="text" id="sidebarSearch" placeholder="🔍 Search..." />
            </div>
            <nav class="nav" id="sidebar-nav"></nav>
            <div class="footer">
                <p>&copy; 2025 AEM Tutorial</p>
            </div>
        </div>
        <span class="hamburger" onclick="toggleMenu()">&#9776;</span>
        <main class="content" id="content">
            <h1>Project Creation & Deployment</h1>
            <section class="card">
                <h2>Prerequisites</h2>
                <ul>
                    <li><strong>Apache Maven:</strong> Maven is used as the build tool for AEM projects. You can download and install Maven from <a href="https://maven.apache.org/download.cgi" target="_blank">here</a>.</li>
                    <li><strong>Node.js & npm:</strong> Node.js and npm (Node Package Manager) are required for managing front-end dependencies, bundling resources, and more. Download and install Node.js from <a href="https://nodejs.org/" target="_blank">here</a>.</li>
                    <li><strong>JDK 11:</strong> Make sure that Java Development Kit (JDK) 11 is installed on your system to support AEM's Java-based backend. You can install it from <a href="https://adoptium.net/" target="_blank">Adoptium</a>.</li>
                </ul>
            </section>
            <section class="card">
                <h2>Creating a New AEM Project</h2>
                <p>You can generate a new AEM project using Maven. AEM provides a pre-built Maven archetype that simplifies project setup. To create a new AEM project, run the following command:</p>
                <pre>mvn -B org.apache.maven.plugins:maven-archetype-plugin:3.2.1:generate -D archetypeGroupId=com.adobe.aem -D archetypeArtifactId=aem-project-archetype -D archetypeVersion=39 -D appTitle="Training" -D appId="training" -D groupId="com.training.project" -D artifactId="training-project" -D package="com.training.project" -D version="0.0.1-SNAPSHOT" -D aemVersion="cloud" -D includeDispatcherConfig=n -D includeExamples=n</pre>
                <p>Set <code>aemVersion=cloud</code> for AEM as a cloud service.</p>
                <p>This will generate a basic project structure with Maven configuration and basic code to get started with AEM development.</p>
            </section>
            <section class="card">
                <h2>Project Structure</h2>
                <p>A typical AEM project follows a modular structure for organizing different components and layers of functionality. Below is a detailed breakdown of the project structure:</p>
                <pre>
                ├── core
                │   ├── src
                │   │   ├── main
                │   │   │   ├── java
                │   │   │   ├── resources
                │   ├── pom.xml
                ├── it.tests
                │   ├── src
                │   │   ├── test
                │   │   │   ├── java
                │   │   │   ├── resources
                │   ├── pom.xml
                ├── ui.apps
                │   ├── src
                │   │   ├── main
                │   │   │   ├── content
                │   │   │   ├── apps
                │   ├── pom.xml
                ├── ui.apps.structure
                │   ├── src
                │   │   ├── main
                │   │   │   ├── structure
                │   ├── pom.xml
                ├── ui.config
                │   ├── src
                │   │   ├── main
                │   │   │   ├── config
                │   ├── pom.xml
                ├── ui.content
                │   ├── src
                │   ├── pom.xml
                ├── ui.frontend
                │   ├── src
                │   ├── package.json
                ├── ui.tests
                │   ├── src
                │   │   ├── test
                │   │   │   ├── java
                │   │   │   ├── resources
                │   ├── pom.xml
                ├── archetype
                ├── LICENSE
                ├── pom.xml
                ├── README.md
                </pre>
                <h3>Explanation of Folders</h3>
                <ul>
                    <li><strong>core:</strong> Contains the Java classes for business logic, services, and custom components.</li>
                    <li><strong>it.tests:</strong> Contains integration tests to verify the overall functionality of the application.</li>
                    <li><strong>ui.apps:</strong> Stores AEM authoring configuration, content pages, and AEM-specific content.</li>
                    <li><strong>ui.apps.structure:</strong> Contains AEM page structures, templates, and page layout configurations.</li>
                    <li><strong>ui.config:</strong> Contains configurations for AEM, such as Sling settings, OSGi configurations, and any other environment setup.</li>
                    <li><strong>ui.content:</strong> Holds content such as sample content pages, nodes, or page data used in AEM.</li>
                    <li><strong>ui.frontend:</strong> Stores front-end resources, such as JavaScript, CSS, and other client-side code.</li>
                    <li><strong>ui.tests:</strong> Contains test cases for testing front-end components, ensuring proper functionality of UI elements.</li>
                    <li><strong>archetype:</strong> The folder where the AEM archetype configurations are stored, helping to create a project template and structure.</li>
                    <li><strong>LICENSE:</strong> The file that contains the legal licensing information for the project, detailing terms under which the project can be used and modified.</li>
                    <li><strong>pom.xml:</strong> The Maven build configuration file that defines the project's dependencies, build settings, and lifecycle.</li>
                    <li><strong>README.md:</strong> The readme file containing project description, setup instructions, and other important information for the project.</li>
                </ul>
                <h3>Key Modules and Responsibilities</h3>
                <ul>
                    <li><strong>core:</strong> Handles back-end logic, Java services, and OSGi components.</li>
                    <li><strong>ui.apps:</strong> Deals with AEM authoring UI, page templates, components, and content.</li>
                    <li><strong>ui.frontend:</strong> Manages the front-end assets such as client libraries (CSS, JS) and image resources.</li>
                    <li><strong>it.tests:</strong> Ensures the functionality of the AEM system through integration tests.</li>
                    <li><strong>ui.content:</strong> Defines content structures and sample data to be used in AEM.</li>
                    <li><strong>archetype:</strong> Provides the project archetype that helps developers start with a standard project template.</li>
                    <li><strong>LICENSE:</strong> Ensures that the project's legal terms are clear and enforceable.</li>
                </ul>
            </section>
            <section class="card">
                <h2>Deploying Your Project Locally</h2>
                <p>Once your AEM project is created, you can deploy it to your local AEM instance (either Author or Publish). Here are the steps to follow:</p>
                <h4>How to build</h4>
                <p>To build all the modules run in the project root directory the following command with Maven 3:</p>
                <pre>mvn clean install</pre>
                <p>To build all the modules and deploy the <code>all</code> package to a local instance of AEM, run in the project root directory the following command:</p>
                <pre>mvn clean install -PautoInstallSinglePackage</pre>
                <p>Or to deploy it to a publish instance, run</p>
                <pre>mvn clean install -PautoInstallSinglePackagePublish</pre>
                <p>Or alternatively</p>
                <pre>mvn clean install -PautoInstallSinglePackage -Daem.port=4503</pre>
                <p>Or to deploy only the bundle to the author, run</p>
                <pre>mvn clean install -PautoInstallBundle</pre>
                <p>Or to deploy only a single content package, run in the sub-module directory (i.e <code>ui.apps</code>)</p>
                <pre>mvn clean install -PautoInstallPackage</pre>
                <ul>
                    <li><strong>mvn:</strong> Maven command-line tool.</li>
                    <li><strong>clean:</strong> Cleans the previous build artifacts to ensure a fresh build.</li>
                    <li><strong>install:</strong> Builds the project, runs tests, and installs the resulting artifacts into the local Maven repository.</li>
                </ul>
                <p>Below are the project related required packages which always get installed once build is successfully done:</p>
                <ul>
                    <li>training.ui.content-1.0.0-SNAPSHOT.zip</li>
                    <li>training.ui.apps-1.0.0-SNAPSHOT.zip</li>
                    <li>training.ui.config-1.0.0-SNAPSHOT.zip</li>
                    <li>training.all-1.0.0-SNAPSHOT.zip</li>
                </ul>
                <h4>Verify the Deployment</h4>
                <p>After deployment, check the following:
                <ul>
                    <li>Visit the AEM Author instance at <code>http://localhost:4502</code> to see if the project was deployed successfully.</li>
                    <li>Verify the content by creating a page and adding components to it.</li>
                    <li>If deploying the ui.frontend module, check the browser's developer tools for JavaScript and CSS resources loading correctly.</li>
                </ul>
                </p>
            </section>
            <section class="card">
                <h2>Understanding <code>filter.xml</code> in AEM Projects</h2>
                <p>Every AEM content package includes a file named <code>filter.xml</code> that defines the paths in the JCR repository the package affects during installation. This file is critical in controlling how content and configuration are installed, merged, or replaced on the target AEM instance.</p>
                <h3>📍 Where to Find <code>filter.xml</code>?</h3>
                <p>In a typical Maven-based AEM project, you will find <code>filter.xml</code> under the <code>ui.apps</code> or <code>ui.content</code> module, inside:</p>
                <pre>ui.apps/src/main/content/META-INF/vault/filter.xml
ui.content/src/main/content/META-INF/vault/filter.xml</pre>
                <h3>🔍 Why Is <code>filter.xml</code> Needed?</h3>
                <p>When you build a package using Maven or AEM Package Manager, <code>filter.xml</code> tells AEM which parts of the JCR repository should be included, and how the package content should be deployed. It helps:</p>
                <ul>
                    <li>Define the JCR paths to include (e.g., <code>/apps/myproject</code>, <code>/content/myproject</code>)</li>
                    <li>Control the merge or overwrite behavior using <code>mode</code></li>
                    <li>Avoid accidental overwrites of system or shared content</li>
                </ul>
                <h3>⚙️ The <code>mode</code> Attribute in <code>filter.xml</code></h3>
                <p>You can add a <code>mode</code> attribute to any filter rule to define how AEM should handle the content at that path during installation.</p>
                <h4>Supported Modes:</h4>
                <ul>
                    <li><strong>replace</strong>: Completely replaces existing nodes and their children under the path. Use with caution.</li>
                    <li><strong>merge</strong>: (Default) Merges the package content with existing content without removing anything.</li>
                    <li><strong>update</strong>: Updates existing nodes' properties but doesn't add or delete child nodes.</li>
                    <li><strong>delete</strong>: Deletes the specified content path from the repository.</li>
                </ul>
                <h3>💡 Example <code>filter.xml</code> Usage</h3>
                <pre>&lt;workspaceFilter version="1.0"&gt;
    &lt;filter root="/apps/myproject" mode="merge"/&gt;
    &lt;filter root="/content/myproject" mode="replace"/&gt;
    &lt;filter root="/conf/myproject" mode="update"/&gt;
&lt;/workspaceFilter&gt;</pre>
                <h3>🚨 Best Practices</h3>
                <ul>
                    <li>Always be cautious when using <code>replace</code> — it deletes existing nodes before re-installing.</li>
                    <li>Use <code>merge</code> or <code>update</code> in most environments to avoid data loss.</li>
                    <li>Version control your filter.xml and test deployments in a lower environment before production.</li>
                    <li>Break down large packages into separate content and config packages (ui.content, ui.apps) with clear filters.</li>
                </ul>
                <p><strong>Note:</strong> The behavior of <code>mode</code> is executed by the Apache Jackrabbit FileVault (VLT) mechanism which AEM uses under the hood for content packaging.</p>
            </section>
            <section class="card">
                <h3>Working with Front-End Development</h3>
                <p>In the <strong>ui.frontend</strong> module, you will be working with npm and Node.js to handle your project's client-side development. The package.json file is the key configuration file that contains all the front-end dependencies.</p>
                <ul>
                    <li>
                        <strong>Install Front-End Dependencies:</strong>
                        <pre>npm install</pre>
                    </li>
                    <li>
                        <strong>Build Front-End Assets:</strong>
                        <pre>npm run build</pre>
                    </li>
                    <li>
                        <strong>Run Front-End Development Server:</strong> This will run a Webpack dev server locally:
                        <pre>npm run start</pre>
                    </li>
                </ul>
                <p>Once built, the front-end assets are automatically integrated into AEM's UI, and you can see the changes in the AEM instance live. You can also use AEM's dispatcher to improve performance by caching front-end resources.</p>
            </section>
            <section class="card">
                <h2>Conclusion</h2>
                <p>Now you have a fully functioning local AEM development setup! You've created a new AEM project using Maven, set up your project structure, deployed the project to your local AEM instance, and are ready to start building more sophisticated AEM applications. By following these steps, you ensure a smooth development workflow with a local environment that mirrors a production system.</p>
            </section>
            <script src="https://utteranc.es/client.js" repo="ashishrajbhagat/aem-tutorial" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
        </main>
        <script src="/js/script.js"></script>
    </body>
</html>