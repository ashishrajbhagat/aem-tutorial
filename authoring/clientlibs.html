<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>AEM Tutorial - Clientlibs</title>
		<meta name="description" content="Master Adobe Experience Manager (AEM) with our in-depth tutorials, covering AEM components, workflows, servlets, models, Sling, OSGi services, Touch UI dialogs, CRXDE, and more. Perfect for beginners, advanced developers, and AEM architects looking to enhance their skills. Learn how to build scalable and efficient AEM solutions with best practices.">
		<meta name="keywords" content="AEM, Adobe Experience Manager, AEM Tutorial, AEM Training, AEM Components, AEM Workflows, AEM Servlets, AEM Models, AEM Sling, AEM OSGi, AEM Touch UI, AEM CRXDE, AEM DAM, AEM Metadata, AEM Content Fragments, AEM Experience Fragments, AEM Editable Templates, AEM Dispatcher, AEM Forms, AEM Sites, AEM Assets, AEM Cloud, AEM as a Cloud Service, AEM On-Premise, AEM SEO, AEM Best Practices, Learn AEM, AEM Course, AEM Development, AEM Headless, AEM SPA, AEM React, AEM Angular, AEM HTL, AEM Sightly, AEM Frontend, AEM Backend, AEM Workflow Development, AEM Performance Optimization, AEM Interview Questions">
		<meta name="author" content="Ashish Raj">
		<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
		<link rel="manifest" href="/site.webmanifest">
		<link rel="stylesheet" href="/css/styles.css">
	</head>
	<body>
		<div class="sidebar" id="sidebar">
			<div class="logo">
				<h2>AEM Tutorial</h2>
			</div>
            <div class="sidebar-search">
                <input type="text" id="sidebarSearch" placeholder="🔍 Search..." />
            </div>
			<nav class="nav" id="sidebar-nav"></nav>
			<div class="footer">
				<p>&copy; 2025 AEM Tutorial</p>
			</div>
		</div>
		<span class="hamburger" onclick="toggleMenu()">&#9776;</span>
		<main class="content" id="content">
			<h1>Clientlibs</h1>
			<section class="card">
				<h2>Introduction to Client Libraries in AEM</h2>
				<p>Client Libraries (ClientLibs) in AEM are a powerful mechanism to manage and include front-end assets such as JavaScript, CSS, fonts, and other resources in a modular, optimized, and maintainable way. These are special folders with the node type <code>cq:ClientLibraryFolder</code> that contain front-end assets organized into subfolders like <code>js</code>, <code>css</code>, and <code>resources</code>. They include configuration files like <code>js.txt</code> and <code>css.txt</code> to specify the order of file inclusion. By using ClientLibs, AEM handles versioning, dependency resolution, minification, and efficient delivery of client-side code across components and pages.</p>
				<h3>Why use ClientLibs instead of direct HTML includes?</h3>
				<ul>
					<li><strong>Centralized Management:</strong> ClientLibs allow managing all front-end assets in a structured and modular way.</li>
					<li><strong>Automatic Dependency Handling:</strong> You can define dependencies between libraries using the <code>dependencies</code> property.</li>
					<li><strong>Minification and Aggregation:</strong> AEM automatically minifies and combines JS/CSS to reduce page load times.</li>
					<li><strong>Dispatcher-Friendly:</strong> When using <code>allowProxy=true</code>, assets are served through <code>/etc.clientlibs</code> making them cacheable at the dispatcher/CDN level.</li>
					<li><strong>Reusability:</strong> ClientLibs can be included in multiple components or templates using categories.</li>
					<li><strong>Security:</strong> Prevents exposing internal paths or unsafe script injection through direct HTML tags.</li>
				</ul>
			</section>
			<section class="card">
				<h2>Folder Structure of ClientLibs</h2>
				<p>AEM Client Libraries follow a standardized directory structure that helps organize front-end assets efficiently. This structure enables AEM to locate, process, and serve the required JS/CSS resources properly across components and pages.</p>
				<h3>Standard Directory Structure</h3>
				<ul>
					<li><code>js/</code> - Contains JavaScript files used by components or pages.</li>
					<li><code>css/</code> - Contains CSS or SCSS files for styling components.</li>
					<li><code>resources/</code> - Holds other assets like images, fonts, etc.</li>
					<li><code>js.txt</code> - Lists the JavaScript files (in order) to be included.</li>
					<li><code>css.txt</code> - Lists the CSS files (in order) to be included.</li>
				</ul>
				<h3>Location of ClientLibs</h3>
				<ul>
					<li><code>/apps/&lt;project&gt;/clientlibs</code> - Recommended location for project-specific ClientLibs in editable templates (AEM as a Cloud Service).</li>
					<li><code>/apps/clientlibs</code> - Alternative location, mostly used in traditional AEM setups.</li>
					<li><code>/etc/clientlibs</code> - Deprecated in modern AEM; was commonly used in older versions (AEM 6.2 and earlier).</li>
				</ul>
			</section>
			<section class="card">
				<h2>Creating a Basic Client Library Folder</h2>
				<p>To create a client library in AEM, you need to define a folder with a specific structure and properties. This folder must have the node type <code>cq:ClientLibraryFolder</code> and contain all required files for organizing and delivering CSS, JS, and other static resources.</p>
				<h3>Creating a Folder with <code>cq:ClientLibraryFolder</code> Node Type</h3>
				<ul>
					<li>Create a folder under <code>/apps/&lt;your-project&gt;/clientlibs</code>.</li>
					<li>Set the primary type of the folder to <code>cq:ClientLibraryFolder</code>.</li>
					<li>Ensure it has subfolders like <code>css</code>, <code>js</code>, or <code>resources</code> to organize assets.</li>
				</ul>
				<h3>Required Properties</h3>
				<ul>
					<li><strong>categories</strong> (String or String[]): Defines the category name(s) to use when including this ClientLib.</li>
					<li><strong>js.txt</strong>: A text file inside the <code>js</code> folder listing JavaScript files to include in order.</li>
					<li><strong>css.txt</strong>: A text file inside the <code>css</code> folder listing CSS files to include in order.</li>
				</ul>
			</section>
			<section class="card">
				<h2>Categories, Dependencies, Embed, and allowProxy in ClientLibs</h2>
				<p>ClientLibs in AEM are highly configurable using properties like <code>categories</code>, <code>dependencies</code>, <code>embed</code>, and <code>allowProxy</code>. These properties control how the client libraries are grouped, referenced, and delivered.</p>
				<h3>Using <code>categories</code> to Group ClientLibs</h3>
				<ul>
					<li><code>categories</code> is a required property that defines one or more category names.</li>
					<li>These names are used to include the clientlib using <code>&lt;sly data-sly-call</code> or <code>granite:includeClientLib</code>.</li>
					<li>Example: <code>categories="myproject.base"</code></li>
				</ul>
				<h3>Defining <code>dependencies</code> to Load Other Categories</h3>
				<ul>
					<li><code>dependencies</code> specifies other clientlib categories that should be loaded before this one.</li>
					<li>Useful for ensuring core libraries (like jQuery or foundation libraries) are available.</li>
					<li>Example: <code>dependencies="[core.foundation, myproject.global]"</code></li>
				</ul>
				<h3>Embedding Other ClientLibs with <code>embed</code></h3>
				<ul>
					<li><code>embed</code> allows you to embed content from another category directly into this clientlib.</li>
					<li>This combines the embedded library's content into the current one, rather than loading it separately.</li>
					<li>Reduces HTTP requests and is useful for bundling assets.</li>
					<li>Example: <code>embed="[myproject.component.button]"</code></li>
				</ul>
				<h3>Using <code>allowProxy</code> to Expose via /etc.clientlibs</h3>
				<ul>
					<li><code>allowProxy</code> is a Boolean property set to <code>true</code> to allow access to clientlibs via <code>/etc.clientlibs</code>.</li>
					<li>Essential for caching at the dispatcher and serving assets securely from the <code>/apps</code> path.</li>
					<li>Example: <code>allowProxy=true</code></li>
				</ul>
			</section>
			<section class="card">
				<h2>js.txt and css.txt Files</h2>
				<p>The <code>js.txt</code> and <code>css.txt</code> files are used in AEM ClientLibs to define the order in which JavaScript and CSS files are included. These text files help ensure consistent loading of front-end assets and allow modular file organization.</p>
				<h3>Purpose and Usage</h3>
				<ul>
					<li><strong>js.txt</strong>: Lists all JavaScript files to be included from the <code>js</code> folder, in the specified order.</li>
					<li><strong>css.txt</strong>: Lists all CSS or SCSS files to be included from the <code>css</code> folder, in the specified order.</li>
					<li>Files are loaded sequentially as listed, which is important for dependency management (e.g., loading jQuery before custom scripts).</li>
					<li>These files must be placed inside their respective folders (<code>js</code> or <code>css</code>).</li>
				</ul>
				<h3>Example Configurations</h3>
				<ul>
					<li>
						<strong>js.txt</strong>:
						<pre># js.txt
main.js
utils/helper.js</pre>
					</li>
					<li>
						<strong>css.txt</strong>:
						<pre># css.txt
reset.css
main.css</pre>
					</li>
				</ul>
			</section>
			<section class="card">
				<h2>Loading ClientLibs in HTL</h2>
				<p>In AEM HTL (Sightly), ClientLibs can be loaded using different mechanisms to ensure styles and scripts are applied to your components or pages. These approaches ensure assets are loaded efficiently and modularly.</p>
				<h3>Using <code>&lt;sly data-sly-use&gt;</code> and <code>data-sly-call</code></h3>
				<ul>
					<li>You can load a client library using the <code>core/wcm/components/commons/v1/templates/clientlib.html</code> template.</li>
					<li>This method is reusable and often used in base templates.</li>
					<li>
						Example:
						<pre>&lt;sly data-sly-use.clientLib="/libs/granite/sightly/templates/clientlib.html"&gt;
    &lt;sly data-sly-call="${clientLib.css @ categories='clientlib-site'}"/&gt;
&lt;/sly&gt;</pre>
					</li>
				</ul>
				<h3>Using <code>data-sly-include</code> or <code>cq:includeClientLib</code></h3>
				<ul>
					<li><code>data-sly-include</code> can include a static HTML or clientlib call.</li>
					<li><code>cq:includeClientLib</code> is a classic taglib alternative used with JSP but not recommended for HTL.</li>
					<li>Modern HTL prefers using the <code>clientlib.html</code> template for inclusion.</li>
				</ul>
				<h3>Example: Loading <code>clientlib-site</code> for a Component/Page</h3>
				<ul>
					<li>
						Example HTL snippet:
						<pre>&lt;sly data-sly-use.clientLib="/libs/granite/sightly/templates/clientlib.html"&gt;
    &lt;sly data-sly-call="${clientLib.all @ categories='clientlib-site'}"/&gt;
&lt;/sly&gt;</pre>
					</li>
					<li>This will include both JS and CSS defined in the <code>clientlib-site</code> category.</li>
				</ul>
			</section>
			<section class="card">
				<h2>Using ClientLibs with Page Templates</h2>
				<p>ClientLibs can be integrated into page templates in AEM to ensure that page-level CSS and JavaScript are consistently loaded across all pages using the template. This is typically done using the <code>head.html</code> and <code>body.html</code> structure in editable templates.</p>
				<h3>Adding Page-Level JS/CSS</h3>
				<ul>
					<li>Define your custom JS and CSS in a ClientLib with a unique <code>categories</code> value, such as <code>clientlib-site</code>.</li>
					<li>Include this category in your page template's <code>head.html</code> or <code>body.html</code> to load styles and scripts across all pages based on that template.</li>
				</ul>
				<h3><code>head.html</code> and <code>body.html</code> ClientLib Includes</h3>
				<ul>
					<li>
						In <strong>head.html</strong>, include CSS using the <code>clientLib.css</code> template:
						<pre>&lt;sly data-sly-use.clientlib="/libs/granite/sightly/templates/clientlib.html"&gt;
    &lt;sly data-sly-call="${clientlib.css @ categories='clientlib-site'}"/&gt;
&lt;/sly&gt;</pre>
					</li>
					<li>
						In <strong>body.html</strong>, include JavaScript using the <code>clientLib.js</code> or <code>clientLib.all</code>:
						<pre>&lt;sly data-sly-use.clientlib="/libs/granite/sightly/templates/clientlib.html"&gt;
    &lt;sly data-sly-call="${clientlib.js @ categories='clientlib-site'}"/&gt;
&lt;/sly&gt;</pre>
					</li>
					<li><code>clientlib.all</code> can be used to include both CSS and JS at once if needed.</li>
				</ul>
			</section>
			<section class="card">
				<h2>Minification and Gzip Support</h2>
				<p>Minification and Gzip compression in AEM improve page performance by reducing the size of client-side assets such as JavaScript and CSS files. These optimizations are handled by the HTML Library Manager service in AEM.</p>
				<h3>OSGi Configurations: Adobe Granite HTML Library Manager</h3>
				<ul>
					<li>The configuration for minification and Gzip is managed through the OSGi service: <strong>Adobe Granite HTML Library Manager</strong> (PID: <code>com.adobe.granite.ui.clientlibs.impl.HtmlLibraryManagerImpl</code>).</li>
					<li>To access and modify this configuration, go to <code>/system/console/configMgr</code> and search for the service name.</li>
					<li>
						Common configuration options include:
						<ul>
							<li><code>minify</code> - Enables or disables minification of JS and CSS files.</li>
							<li><code>gzip</code> - Enables or disables Gzip compression for client libraries.</li>
							<li><code>debug</code> - When enabled, disables minification and includes source files for easier debugging.</li>
						</ul>
					</li>
				</ul>
				<h3>Enabling/Disabling Minification</h3>
				<ul>
					<li>To <strong>enable minification</strong>, ensure that the <code>minify</code> and <code>gzip</code> options are checked in the OSGi configuration.</li>
					<li>To <strong>disable minification</strong> (e.g., for debugging), uncheck <code>minify</code> or enable the <code>debug</code> mode.</li>
					<li>Changes may require a restart of the AEM instance or a flush of the clientlib cache.</li>
				</ul>
			</section>
			<section class="card">
				<h2>ClientLibs Debugging</h2>
				<p>Debugging ClientLibs in AEM is essential for identifying loading issues, missing assets, or dependency problems. AEM provides a built-in debug mode to help with troubleshooting client-side libraries.</p>
				<h3>Using <code>?debugClientLibs=true</code></h3>
				<ul>
					<li>Append <code>?debugClientLibs=true</code> to any AEM page URL to disable minification and see individual JS and CSS files.</li>
					<li>This helps developers pinpoint which specific file or line might be causing issues.</li>
					<li>Example: <code>http://localhost:4502/content/mysite/page.html?debugClientLibs=true</code></li>
				</ul>
				<h3>Verifying Output Paths and Errors in the Browser</h3>
				<ul>
					<li>Use browser developer tools (F12) to check the <strong>Network</strong> tab and ensure all CSS/JS files are loading correctly.</li>
					<li>Look for <strong>404 errors</strong> or incorrect paths that might indicate a problem in your <code>js.txt</code> or <code>css.txt</code> configuration.</li>
					<li>Check the <strong>Console</strong> tab for JavaScript errors that may be related to improperly loaded or missing clientlib files.</li>
				</ul>
			</section>
			<section class="card">
				<h2>ClientLibs Proxy Servlet</h2>
				<p>The ClientLibs Proxy Servlet in AEM allows client libraries to be accessed securely via the <code>/etc.clientlibs</code> path. This is especially important when using a dispatcher, as it restricts access to internal paths like <code>/apps</code> or <code>/libs</code>.</p>
				<h3>Access via <code>/etc.clientlibs</code> for Dispatcher</h3>
				<ul>
					<li>The proxy servlet enables safe access to client libraries located in <code>/apps</code> or <code>/libs</code> by exposing them under the public path <code>/etc.clientlibs</code>.</li>
					<li>This path is allowed through dispatcher filters and caching rules, unlike direct access to <code>/apps</code> or <code>/libs</code>, which is generally restricted for security reasons.</li>
					<li>Example: <code>/etc.clientlibs/myproject/clientlibs/clientlib-site.css</code></li>
				</ul>
				<h3>Difference between <code>/apps</code> and <code>/etc.clientlibs</code></h3>
				<ul>
					<li><code>/apps</code>: Actual location where custom client libraries are stored within the project.</li>
					<li><code>/etc.clientlibs</code>: Public-facing path used to serve those client libraries safely through the dispatcher using the proxy servlet.</li>
					<li>This separation ensures that internal project structure remains protected while still allowing public access to necessary assets.</li>
				</ul>
			</section>
			<section class="card">
				<h2>Custom Resource Path Handling</h2>
				<p>When working with ClientLibs in AEM, handling resource paths correctly is important to ensure that images, fonts, or other static assets are loaded properly in both author and publish environments. AEM supports referencing assets inside the <code>resources/</code> folder using special path handling techniques.</p>
				<h3>Referencing Assets in <code>resources/</code></h3>
				<ul>
					<li>Assets like images or fonts can be placed inside the <code>resources/</code> folder within a ClientLib folder.</li>
					<li>To reference them in CSS or JS, use relative paths like: <code>url('../resources/image.png')</code>.</li>
					<li>AEM rewrites these paths automatically when serving from <code>/etc.clientlibs</code>, ensuring they work through the dispatcher.</li>
				</ul>
				<h3>Using Relative/Absolute URLs</h3>
				<ul>
					<li><strong>Relative URLs:</strong> Recommended for referencing internal project assets, as they work seamlessly with ClientLibs structure and AEM's proxy servlet.</li>
					<li><strong>Absolute URLs:</strong> Useful for external resources or when referencing globally hosted assets (e.g., CDNs).</li>
					<li>Example relative usage in CSS: <code>background: url("../resources/bg.png");</code></li>
				</ul>
			</section>
			<section class="card">
				<h2>Theming with ClientLibs</h2>
				<p>AEM ClientLibs support theming by allowing developers to define different style sets as separate client library categories. This makes it easy to switch themes dynamically based on user preferences, site sections, or device types.</p>
				<h3>Creating Theme-Based Categories</h3>
				<ul>
					<li>Create separate ClientLib folders for each theme (e.g., <code>clientlib-theme-dark</code>, <code>clientlib-theme-light</code>).</li>
					<li>Each theme folder should include its own <code>css.txt</code> and relevant style files (like <code>theme.css</code>).</li>
					<li>Set the <code>categories</code> property for each ClientLib to a unique theme-specific value.</li>
					<li>
						Example: 
						<pre>+ clientlib-theme-dark (cq:ClientLibraryFolder)
    - categories: mysite.theme.dark
    - css/
        - theme.css
    - css.txt</pre>
					</li>
				</ul>
				<h3>Switching Styles Dynamically</h3>
				<ul>
					<li>You can include the theme ClientLib dynamically in your HTL code based on a condition, user setting, or page property.</li>
					<li>Use <code>&lt;cq:includeClientLib categories="mysite.theme.light"/&gt;</code> or <code>data-sly-use</code> with logic to determine which theme to load.</li>
					<li>This provides flexibility for implementing dark/light modes, multi-brand support, or user-customized layouts.</li>
				</ul>
			</section>
			<section class="card">
				<h2>Best Practices for Using ClientLibs</h2>
				<p>Following best practices while working with Client Libraries in AEM ensures clean, maintainable, and scalable front-end development. Proper structuring and usage help avoid performance issues and asset conflicts across components and pages.</p>
				<h3>Key Guidelines</h3>
				<ul>
					<li><strong>Keep clientlibs modular:</strong> Break down your CSS and JS into small, reusable ClientLibs instead of bundling everything into one large library. This promotes reusability and better maintainability.</li>
					<li><strong>Use categories consistently:</strong> Define clear and meaningful category names and use them uniformly across templates and components. This ensures that the right assets are included without duplication.</li>
					<li><strong>Avoid global dependencies where possible:</strong> Don't rely on global variables or functions unless necessary. Encapsulate scripts and use namespacing to prevent conflicts.</li>
				</ul>
			</section>
			<section class="card">
				<h2>ClientLibs in Editable Templates</h2>
				<p>In AEM, editable templates allow flexible page designs while keeping the structure consistent. ClientLibs can be included directly in the structure components of these templates to ensure consistent styling and behavior across all pages using the template.</p>
				<h3>Including ClientLibs in Template Structure Components</h3>
				<ul>
					<li>ClientLibs should be included in structural components like <code>root</code>, <code>layout container</code>, or <code>template-type</code>.</li>
					<li>This ensures base styling and JS are always loaded, regardless of the content added in the template.</li>
					<li>Use <code>&lt;cq:includeClientLib categories="your.base.category"/&gt;</code> or <code>data-sly-call</code> within <code>head.html</code> or <code>body.html</code> of the structure component.</li>
				</ul>
				<h3>ClientLib for Layout Container or Root Component</h3>
				<ul>
					<li>Define a specific clientlib for layout components (e.g., grid systems, responsive behavior).</li>
					<li>Assign unique categories to root components and include them only where needed.</li>
					<li>This modular approach ensures better performance and avoids unnecessary loading of assets.</li>
				</ul>
			</section>
			<section class="card">
				<h2>Using CSS Preprocessors (LESS/SASS) in ClientLibs</h2>
				<p>CSS preprocessors like LESS and SASS enhance your styling workflow by providing features like variables, mixins, nesting, and functions. In AEM, these preprocessors are typically integrated using frontend build tools and their compiled output is linked via ClientLibs.</p>
				<h3>Integration via Frontend Maven or NodeJS Build</h3>
				<ul>
					<li>Use tools like Webpack, Gulp, or Grunt within your frontend module to compile SASS/LESS to standard CSS.</li>
					<li>Integrate the frontend module into your AEM project using a Maven multi-module structure or NodeJS-based frontend build.</li>
					<li>Place the compiled CSS files in the appropriate ClientLibs folder (e.g., <code>/apps/your-project/clientlibs/clientlib-site/css</code>).</li>
				</ul>
				<h3>Linking Compiled Output in ClientLib</h3>
				<ul>
					<li>Ensure that the compiled CSS files are referenced in your <code>css.txt</code> file inside the ClientLib folder.</li>
					<li>The folder should have the property <code>categories</code> defined so it can be included in pages using <code>cq:includeClientLib</code> or HTL.</li>
					<li>
						Example <code>css.txt</code>:
						<pre>style.css
main.css</pre>
					</li>
				</ul>
			</section>
			<section class="card">
				<h2>Integration with Frontend Build Tools</h2>
				<p>To streamline front-end development in AEM, modern tools like the AEM Frontend Maven Plugin, Webpack, or NPM scripts are used to compile, bundle, and deploy assets. This allows separation of concerns between frontend and backend while ensuring optimized client-side delivery.</p>
				<h3>AEM Frontend Maven Plugin</h3>
				<ul>
					<li>This plugin helps integrate frontend code (like JS/CSS from React, Vue, or static SASS/LESS) into the AEM build process.</li>
					<li>It runs frontend build tools as part of the Maven build lifecycle.</li>
					<li>Ensures that the final output is copied to the correct AEM ClientLibs path during the build.</li>
				</ul>
				<h3>Webpack or NPM-driven Asset Compilation</h3>
				<ul>
					<li>Webpack is commonly used to manage and bundle frontend resources such as JS, CSS, fonts, and images.</li>
					<li>Set up <code>webpack.config.js</code> to compile SASS/LESS, transpile JS (e.g., via Babel), and optimize assets.</li>
					<li>Define output paths to point directly to AEM's clientlibs directory or an intermediate target used by Maven.</li>
				</ul>
				<h3>Deploying Output to ClientLibs</h3>
				<ul>
					<li>The build output (e.g., <code>dist</code> folder) is copied to <code>/apps/your-project/clientlibs/clientlib-site</code> or similar location.</li>
					<li>Use <code>js.txt</code> and <code>css.txt</code> to include the compiled and minified files in AEM.</li>
					<li>This ensures seamless delivery of modern front-end code within the AEM framework.</li>
				</ul>
			</section>
			<section class="card">
				<h2>ClientLibs vs Page Properties</h2>
				<p>ClientLibs and Page Properties serve different but complementary roles in managing styles and scripts in AEM. While ClientLibs are used to define reusable frontend resources, page-level properties allow contextual control over which styles or scripts to apply based on content configuration.</p>
				<h3>Setting Page-Level Styles</h3>
				<ul>
					<li>ClientLibs can be conditionally loaded based on page-level settings like template types, content structure, or policies.</li>
					<li>Custom logic can be used to include specific categories in the page based on properties set in the page's content node.</li>
					<li>This approach helps deliver optimized and relevant styling for different sections or templates of the site.</li>
				</ul>
				<h3>Using Design Dialogs or Page Policy</h3>
				<ul>
					<li>Design dialogs (for editable templates) or page policies (in editable templates) are used to define style options at the template or layout level.</li>
					<li>Authors can choose predefined styles, classes, or behavior from the dialog, which can be applied to components or the page.</li>
					<li>These configurations can be passed to HTL and used to control what ClientLib categories or CSS classes are rendered dynamically.</li>
					<li>Combining ClientLibs with design configurations ensures flexibility and reusability across templates and components.</li>
				</ul>
			</section>
			<section class="card">
				<h2>Performance Optimization with ClientLibs</h2>
				<p>Optimizing performance in AEM involves minimizing the amount of unnecessary CSS and JS sent to the browser, reducing render-blocking resources, and improving loading times. ClientLibs support several strategies to help achieve this.</p>
				<h3>Reducing Unused JS/CSS</h3>
				<ul>
					<li>Split large client libraries into smaller, feature-specific clientlibs to load only what's needed.</li>
					<li>Use categories to include clientlibs conditionally based on the component or page requirements.</li>
					<li>Audit your styles and scripts to remove unused code using tools like PurgeCSS or manual cleanup.</li>
				</ul>
				<h3>Lazy Loading Scripts</h3>
				<ul>
					<li>Use JavaScript to load non-critical scripts after the page has loaded using <code>async</code> or <code>defer</code> attributes.</li>
					<li>Implement event-based or intersection observer-based lazy loading for scripts tied to components below the fold.</li>
					<li>Place JavaScript includes in the <code>body.html</code> to delay script execution until after initial render.</li>
				</ul>
				<h3>Bundling Multiple ClientLibs</h3>
				<ul>
					<li>Combine multiple small clientlibs into one main clientlib using the <code>embed</code> property.</li>
					<li>Use categories wisely to group related functionality together and avoid duplicate loading.</li>
					<li>Bundling reduces HTTP requests, especially beneficial when HTTP/1.1 is used on the server.</li>
				</ul>
			</section>
			<section class="card">
				<h2>ClientLib Versioning in AEM</h2>
				<p>ClientLib versioning in AEM ensures that browsers always load the latest version of JavaScript and CSS files after an update. This avoids caching issues where old client-side files may be served even after deployment of new code. AEM provides automatic versioning based on file hash or manual versioning via custom folder structures.</p>
				<h3>Why ClientLib Versioning is Important</h3>
				<p>Browsers cache static assets like CSS and JS aggressively. Without versioning, users may continue to see outdated styles or scripts even after publishing updates. Versioning forces browsers to fetch the latest assets when changes are deployed.</p>
				<h3>Automatic Versioning with Proxy Servlet</h3>
				<p>When client libraries are served through <code>/etc.clientlibs</code>, AEM includes a hash-based version in the URL path (e.g., <code>/etc.clientlibs/my-site/clientlibs/clientlib-base.v12345.css</code>). This hash changes automatically whenever files are modified, invalidating the browser cache.</p>
				<h3>Manual Versioning Strategy</h3>
				<p>In projects not using the proxy servlet, developers can manually version their clientlibs by placing them in versioned folders (e.g., <code>clientlib-v1</code>, <code>clientlib-v2</code>) and updating references in components accordingly. This approach offers more control but requires manual updates.</p>
				<h3>Best Practices</h3>
				<ul>
					<li>Always use the <code>/etc.clientlibs</code> path for clientlib delivery to benefit from automatic versioning.</li>
					<li>Avoid hardcoding URLs - use <code>cq:includeClientLib</code> or HTL helpers instead.</li>
					<li>Invalidate Dispatcher and CDN cache when deploying updated client-side assets.</li>
				</ul>
			</section>
			<section class="card">
				<h2>Common Issues and Troubleshooting</h2>
				<p>While working with ClientLibs in AEM, developers may encounter issues related to missing assets, incorrect load order, or caching problems-especially when using a dispatcher. Understanding these common pitfalls can help in faster resolution.</p>
				<h3>Clientlib Not Found Errors</h3>
				<ul>
					<li>Verify the clientlib folder is correctly marked with the <code>cq:ClientLibraryFolder</code> node type.</li>
					<li>Ensure the <code>categories</code> property is correctly set and matches the include reference in HTL or JSP.</li>
					<li>Check if the path starts with <code>/etc.clientlibs</code> when using the proxy servlet (especially important for dispatcher access).</li>
				</ul>
				<h3>Order of Loading Issues</h3>
				<ul>
					<li>Use the <code>dependencies</code> property to declare the loading order between client libraries.</li>
					<li>Control execution order of JS/CSS files inside a clientlib using <code>js.txt</code> and <code>css.txt</code> files.</li>
					<li>Ensure embedded libraries don't conflict or override each other unintentionally.</li>
				</ul>
				<h3>Debugging Dispatcher Caching</h3>
				<ul>
					<li>Use <code>?debugClientLibs=true</code> to check if clientlibs are resolving properly.</li>
					<li>Ensure the dispatcher is configured to allow access to <code>/etc.clientlibs</code>.</li>
					<li>Invalidate dispatcher cache when changes are made to static assets or category names.</li>
					<li>Check logs on both AEM and dispatcher side to confirm if files are being cached or blocked.</li>
				</ul>
			</section>
			<script src="https://utteranc.es/client.js" repo="ashishrajbhagat/aem-tutorial" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
		</main>
		<script src="/js/script.js"></script>
	</body>
</html>